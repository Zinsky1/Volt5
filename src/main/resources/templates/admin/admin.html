<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
  <title>Spring Security Example</title>
</head>
<body>
<h1>Welcome to ADMIN PAGE!</h1>

<table>
  <tr>
    <th>Username</th>
    <th>Password</th>
    <th>Email</th>
    <th>roles</th>
  </tr>
  <tr th:each="user : ${users}" >
    <td><a th:text="${user.getUsername()}"
           th:href="@{/admin/user/{username}(username=${user.getUsername()})}">username</a></td>
    <td th:text="${user.getPassword()}">password</td>
    <td th:text="${user.getEmail()}">email</td>
    <td th:text="${user.getRoles()}">roles</td> <!-- TODO: красивое отображение ролей -->
    <td>
      <form th:method="DELETE" th:action="@{/admin/{id}(id=${user.getId()})}">
        <input type="submit" value="Delete"/>
      </form>
    </td>
    <td>
      <form th:action="@{/admin/{id}/edit(id=${user.getId()})}">
        <input type="submit" value="Update"/>
      </form>
    </td>
  </tr>
</table>
<br />
<a href="/admin/new">Add User</a>
<br />
<a href="/logout">Log Out</a>
</body>
</html>